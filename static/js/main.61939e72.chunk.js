(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,n,t){e.exports=t(341)},173:function(e,n,t){},341:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(52),i=t.n(c),u=(t(173),t(23)),o=t(24),s=t(26),l=t(25),f=t(27),d=t(2),v=t(166),b=t(3),m=t(53),p=t.n(m),O=t(6),E=t(7),h=t(31),j=t(9),g={ADD_SCORE:"ADD_SCORE",UPDATE_DIE:"UPDATE_DIE",REMOVE_DIE:"REMOVE_DIE",ADD_DIE:"ADD_DIE",MOVE_DIE:"MOVE_DIE",CASCADE_DICE:"CASCADE_DICE",INPUT_DISABLE:"INPUT_DISABLE",INPUT_ENABLE:"INPUT_ENABLE",ADD_MOVES:"ADD_MOVES",SET_LEVEL:"SET_LEVEL",GAME_END:"GAME_END",GAME_RESET:"GAME_RESET"},x={UP:"UP",DOWN:"DOWN",RANDOM:"RANDOM",BLOCKER:"BLOCKER",FLIP:"FLIP"},y="ACTIVE",S="FINISHED",D=5,w=6;function A(){var e=Object(d.a)(["\n    ","\n    ","\n"]);return A=function(){return e},e}function z(){var e=Object(d.a)(["\n    ","\n    ","\n"]);return z=function(){return e},e}function _(){var e=Object(d.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    transform: translate3d(0, 0, 0);\n"]);return _=function(){return e},e}function k(){var e=Object(d.a)(["\n    position: relative;\n"]);return k=function(){return e},e}function I(){var e=Object(d.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: top center;\n            "]);return I=function(){return e},e}function M(){var e=Object(d.a)(["\n                animation: "," 100ms ease-in-out forwards;\n            "]);return M=function(){return e},e}function C(){var e=Object(d.a)(["\n                animation: "," 10ms linear infinite;\n            "]);return C=function(){return e},e}function T(){var e=Object(d.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: bottom center;\n            "]);return T=function(){return e},e}function N(){var e=Object(d.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: bottom center;\n            "]);return N=function(){return e},e}function B(){var e=Object(d.a)(["\n                animation: "," 100ms ease-in-out forwards;\n            "]);return B=function(){return e},e}function L(){var e=Object(d.a)(["\n                animation: "," 10ms linear infinite;\n            "]);return L=function(){return e},e}function R(){var e=Object(d.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: top center;\n            "]);return R=function(){return e},e}function P(){var e=Object(d.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    25% {\n        transform: rotate(-","deg);\n    }\n    50% {\n      transform: rotate(0deg);\n    }\n    75% {\n        transform: rotate(","deg);\n    }\n"]);return P=function(){return e},e}function U(){var e=Object(d.a)(["\n    0% { transform: scaleX(1); filter: brightness(1); }\n    100% { transform: scaleX(0); filter: brightness(0.5); }\n"]);return U=function(){return e},e}function G(){var e=Object(d.a)(["\n    0% { transform: scaleX(0); filter: brightness(0.5); }\n    100% { transform: scaleX(1); filter: brightness(1); }\n"]);return G=function(){return e},e}function V(){var e=Object(d.a)(["\n    0% { transform: scaleY(1); filter: brightness(1); }\n    100% { transform: scaleY(0); filter: brightness(0.5); }\n"]);return V=function(){return e},e}function F(){var e=Object(d.a)(["\n    0% { transform: scaleY(0); filter: brightness(0.5); }\n    100% { transform: scaleY(1); filter: brightness(1); }\n"]);return F=function(){return e},e}var W=Object(b.c)(F()),K=Object(b.c)(V()),X=Object(b.c)(G()),Y=Object(b.c)(U()),J=function(e){return Object(b.c)(P(),e,e)},H=b.b.div(k()),q=Object(b.a)(_()),Q=b.b.div(z(),q,function(e){var n=e.dieType;e.diceSize;if(!e.animate)return null;switch(n){case x.DOWN:return Object(b.a)(R(),W,200);case x.RANDOM:return Object(b.a)(L(),J(10));case x.FLIP:return Object(b.a)(B(),X);default:return Object(b.a)(N(),W,200)}}),Z=b.b.div(A(),q,function(e){var n=e.dieType;e.diceSize;switch(n){case x.DOWN:return Object(b.a)(T(),K,200);case x.RANDOM:return Object(b.a)(C(),J(10));case x.FLIP:return Object(b.a)(M(),Y);default:return Object(b.a)(I(),K,200)}}),$=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).state={prevChildren:[]},t.removePrevChild=function(e){return function(){return t.setState(function(n){return{prevChildren:n.prevChildren.filter(function(n){return n.id!==e})}})}},t}return Object(f.a)(n,e),Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=this;if(e.value!==this.props.value){var t=this.props.value;this.setState(function(e){return{prevChildren:[].concat(Object(j.a)(e.prevChildren),[{child:n.props.children,id:t,timeout:setTimeout(n.removePrevChild(t),200)}])}})}}},{key:"render",value:function(){var e=this,n=this.state.prevChildren,t=this.props,r=t.children,c=t.value;return a.a.createElement(H,{className:"FACE"},a.a.createElement(Q,Object.assign({},this.props,{animate:n.length,key:c}),r),n.map(function(n){var t=n.child,r=n.id;return a.a.createElement(Z,Object.assign({},e.props,{key:r}),t)}))}}]),n}(a.a.Component);function ee(){var e=Object(d.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ee=function(){return e},e}function ne(){var e=Object(d.a)(["\n                background: ",";\n                border-radius: 50%;\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ne=function(){return e},e}function te(){var e=Object(d.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return te=function(){return e},e}function re(){var e=Object(d.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    animation: "," ","ms ease-in-out infinite;\n                }\n            "]);return re=function(){return e},e}function ae(){var e=Object(d.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.4;\n                }\n            "]);return ae=function(){return e},e}function ce(){var e=Object(d.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ce=function(){return e},e}function ie(){var e=Object(d.a)(["\n    0% { opacity: 0; }\n    50% { opacity: 1; }\n    100% { opacity: 0; }\n"]);return ie=function(){return e},e}var ue="#282B40",oe="#FC4349",se="#3C989B",le="#FFAC00",fe="#757784",de="#CEC8B6",ve=Object(b.c)(ie()),be=function(e){var n=e.dieType,t=e.value;switch(n){case x.DOWN:return Object(b.a)(ce(),se,ue);case x.BLOCKER:return Object(b.a)(ae(),fe,ue);case x.BOMB:return Object(b.a)(re(),fe,le,ve,200*t);case x.RANDOM:return Object(b.a)(te(),le,ue);case x.FLIP:return Object(b.a)(ne(),de,ue);case x.UP:default:return Object(b.a)(ee(),oe,ue)}};function me(){var e=Object(d.a)(["\n    border-radius: 4px;\n\n    ","\n"]);return me=function(){return e},e}var pe=b.b.svg(me(),be),Oe=function(e,n){var t=.25*e;return t+n*(e-2*t)},Ee=function(e){var n=e.x,t=e.y,r=e.diceSize;Object(E.a)(e,["x","y","diceSize"]);return a.a.createElement("circle",{r:.08*r,cx:Oe(r,n),cy:Oe(r,t)})},he=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}))},je=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:.5,y:.5})))},ge=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:0})))},xe=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:.5,y:.5})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:0})))},ye=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:1})))},Se=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:.5,y:.5})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:1})))},De=function(e){var n=e.diceSize,t=Object(E.a)(e,["diceSize"]);return a.a.createElement(pe,Object.assign({},t,{width:n,height:n}),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:.5})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:.5})),a.a.createElement(Ee,Object.assign({},t,{diceSize:n,x:1,y:1})))},we=function(e){switch(e.value){case 1:return a.a.createElement(je,e);case 2:return a.a.createElement(ge,e);case 3:return a.a.createElement(xe,e);case 4:return a.a.createElement(ye,e);case 5:return a.a.createElement(Se,e);case 6:return a.a.createElement(De,e);default:return a.a.createElement(he,e)}};function Ae(){var e=Object(d.a)(["\n    position: absolute;\n    transition: transform 0.5s ease-in;\n    perspective: 500px;\n    perspective-origin: 50% 50%;\n"]);return Ae=function(){return e},e}function ze(){var e=Object(d.a)(["\n    padding: 0;\n    border: 0;\n\n    background: transparent;\n\n    text-align: center;\n\n    cursor: pointer;\n    outline: none;\n"]);return ze=function(){return e},e}var _e=b.b.div(ze()),ke=b.b.div(Ae()),Ie=function(e){var n=e.x,t=e.y,r=e.diceSize;return{transform:"translate(".concat(r*n,"px, ").concat(r*t+10,"px)")}},Me=function(e){var n=e.children,t=Object(E.a)(e,["children"]);return a.a.createElement(ke,{style:Ie(t)},n)},Ce=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).handleDieUpdate=function(){var e=t.props,n=e.moves,r=e.inputEnabled,a=e.dieType,c=e.updateDie,i=e.id;n.limit-n.used<=0||!r||a===x.BLOCKER||a===x.BOMB||c(i)},t}return Object(f.a)(n,e),Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){var n=e.value,t=e.x,r=e.y;return!(n===this.props.value&&t===this.props.x&&r===this.props.y)}},{key:"render",value:function(){var e=this.props,n=e.diceSize,t=e.x,r=e.y,c=e.id;return a.a.createElement(Me,this.props,a.a.createElement(_e,Object.assign({},this.props,{onClick:this.handleDieUpdate,title:"id: ".concat(c," x: ").concat(t," y: ").concat(r)}),a.a.createElement($,this.props,a.a.createElement(we,Object.assign({},this.props,{diceSize:n-2})))))}}]),n}(a.a.Component);function Te(){var e=Object(d.a)(["\n    position: relative;\n"]);return Te=function(){return e},e}function Ne(){var e=Object(d.a)(["\n    padding: 0 10px;\n    background: white;\n    overflow: hidden;\n"]);return Ne=function(){return e},e}var Be={transition:"opacity ".concat(300,"ms ease-in"),opacity:0},Le={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0}},Re=function(e){var n=e.children,t=Object(E.a)(e,["children"]);return a.a.createElement(h.Transition,Object.assign({},t,{timeout:300}),function(e){return a.a.createElement("span",{style:Object(O.a)({},Be,Le[e])},n)})},Pe=b.b.div(Ne()),Ue=b.b.div(Te()),Ge=function(e){var n=e.diceSize;return{width:n*D,height:n*w+20}},Ve=function(e){var n=e.gameBoard,t=Object(E.a)(e,["gameBoard"]);return a.a.createElement(Pe,null,a.a.createElement(Ue,{style:Ge(t)},a.a.createElement(h.TransitionGroup,null,n.map(function(e,n){return a.a.createElement(Re,{key:e.id},a.a.createElement(Ce,Object.assign({},t,e)))}))))};function Fe(){var e=Object(d.a)(["\n    font-size: 24px;\n"]);return Fe=function(){return e},e}var We=b.b.div(Fe()),Ke=function(e){var n=e.score;return a.a.createElement(We,null,"Score: ",n)};function Xe(){var e=Object(d.a)(["\n        animation: "," 0.1s linear infinite;\n        > div { transform: scale(1.8); }\n    "]);return Xe=function(){return e},e}function Ye(){var e=Object(d.a)(["\n        animation: "," 0.1s linear infinite;\n        > div { transform: scale(1.5); }\n    "]);return Ye=function(){return e},e}function Je(){var e=Object(d.a)(["\n        animation: "," 0.1s linear infinite;\n        > div { transform: scale(1.2); }\n    "]);return Je=function(){return e},e}function He(){var e=Object(d.a)(["\n        color: red;\n    "]);return He=function(){return e},e}function qe(){var e=Object(d.a)(["\n    display: inline-block;\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n"]);return qe=function(){return e},e}function Qe(){var e=Object(d.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    25% {\n        transform: rotate(-","deg);\n    }\n    50% {\n      transform: rotate(0deg);\n    }\n    75% {\n        transform: rotate(","deg);\n    }\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(d.a)(["\n    padding: 0 5px;\n    font-size: 18px;\n    height: ","px;\n"]);return Ze=function(){return e},e}var $e=b.b.div(Ze(),28),en=function(e){return Object(b.c)(Qe(),e,e)},nn=b.b.span(qe(),function(e){return e.moves<6&&Object(b.a)(He())},function(e){return e.moves<=4&&Object(b.a)(Je(),en(5))},function(e){return e.moves<=2&&Object(b.a)(Ye(),en(15))},function(e){return e.moves<=1&&Object(b.a)(Xe(),en(20))}),tn=function(e){var n=e.moves,t=n.used,r=n.limit;return a.a.createElement($e,null,"Moves left: ",a.a.createElement(nn,{moves:r-t},a.a.createElement("div",null,r-t)))};function rn(){var e=Object(d.a)(["\n    font-size: 16px;\n"]);return rn=function(){return e},e}function an(){var e=Object(d.a)(["\n    margin-right: 1px;\n"]);return an=function(){return e},e}function cn(){var e=Object(d.a)(["\n    display: flex;\n    font-size: 16px;\n\n    .title {\n        margin-right: 10px;\n    }\n"]);return cn=function(){return e},e}function un(){var e=Object(d.a)(["\n    padding: 0 5px;\n    font-size: 18px;\n"]);return un=function(){return e},e}var on=b.b.div(un()),sn=b.b.div(cn()),ln=b.b.div(an()),fn=b.b.span(rn()),dn=function(e){var n=e.level,t=e.upcomingDice,r=t.slice(0,4),c=t.length-4;return a.a.createElement(on,null,"Level: ",n,a.a.createElement(sn,null,a.a.createElement("span",{className:"title"},"Upcoming:"),r.slice(0,4).map(function(e,n){return a.a.createElement(ln,{key:n},a.a.createElement(we,Object.assign({},e,{diceSize:18})))}),c>0&&a.a.createElement(fn,null,"+ ",c)))},vn=t(13),bn=t.n(vn),mn=t(155),pn=t(33),On=t(156),En=t.n(On),hn=t(54),jn=t.n(hn),gn=t(157),xn=t.n(gn),yn=t(57),Sn=t.n(yn),Dn=["\ud83d\udc36","\ud83d\udc31","\ud83d\udc2d","\ud83d\udc39","\ud83d\udc30","\ud83e\udd8a","\ud83d\udc3b","\ud83d\udc3c","\ud83d\udc28","\ud83d\udc2f","\ud83e\udd81","\ud83d\udc2e","\ud83d\udc37","\ud83d\udc38","\ud83d\udc35","\ud83d\udc14","\ud83d\udc27","\ud83d\udc26","\ud83d\udc25","\ud83e\udd86","\ud83d\udc3a","\ud83d\udc17","\ud83d\udc34","\ud83e\udd84","\ud83d\udc1d","\ud83e\udd8b","\ud83d\udc1e","\ud83d\udc1c","\ud83d\udc22","\ud83e\udd8e","\ud83e\udd96","\ud83e\udd95","\ud83d\udc19","\ud83e\udd91","\ud83e\udd9e","\ud83e\udd80","\ud83d\udc21","\ud83d\udc20","\ud83d\udc1f","\ud83d\udc2c","\ud83d\udc33","\ud83e\udd8d","\ud83d\udc2b","\ud83e\udd92","\ud83e\udd98","\ud83d\udc03","\ud83d\udc02","\ud83d\udc04","\ud83d\udc0e","\ud83d\udc09","\ud83d\udc32","\ud83c\udf35","\ud83c\udf32","\ud83c\udf33","\ud83c\udf34","\ud83c\udf31","\ud83c\udf3f","\u2618\ufe0f","\ud83c\udf41","\ud83c\udf44","\ud83c\udf37","\ud83c\udf39","\ud83c\udf3a","\ud83c\udf38","\ud83c\udf1d","\ud83c\udf1b","\u2b50\ufe0f","\u2604\ufe0f","\ud83d\udca5","\ud83c\udf08","\ud83c\udf4e","\ud83c\udf50","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf49","\ud83c\udf47","\ud83c\udf53","\ud83c\udf52","\ud83c\udf51","\ud83c\udf4d","\ud83e\udd5d","\ud83c\udf46","\ud83e\udd51","\ud83e\udd66","\ud83c\udf36","\ud83c\udf3d","\ud83e\udd55","\ud83c\udf5e","\ud83c\udf73","\ud83e\udd68","\ud83e\uddc0","\ud83c\udf2e","\ud83c\udf55","\ud83c\udf59","\ud83c\udf70","\ud83e\uddc1","\ud83c\udf6d","\ud83c\udf6c","\ud83c\udf6a","\ud83c\udf7a","\ud83c\udf79","\ud83c\udf77","\u26bd\ufe0f","\ud83c\udfd3","\ud83c\udfcf","\ud83c\udfb2","\ud83e\udde9","\ud83c\udfb7","\ud83c\udfba","\ud83c\udfb8","\ud83c\udfb0","\ud83d\ude97","\ud83d\ude80","\ud83d\uddff","\u26f1","\ud83c\udf0b","\u26f0","\ud83d\udca3","\ud83e\udde8","\u2694\ufe0f","\ud83d\udee1","\ud83d\udd2e","\ud83c\udf89"],wn=function(){return Dn[Math.floor(Math.random()*Dn.length)]};function An(){var e=Object(d.a)(["\n    margin: 0;\n    padding: 0;\n    border: none;\n    text-decoration: underline;\n    background: transparent;\n    font-size: 18px;\n"]);return An=function(){return e},e}function zn(){var e=Object(d.a)(["\n    background: ","\n"]);return zn=function(){return e},e}function _n(){var e=Object(d.a)(["\n    text-align: left;\n"]);return _n=function(){return e},e}function kn(){var e=Object(d.a)(["\n    font-weight: bold;\n    text-align: left;\n"]);return kn=function(){return e},e}function In(){var e=Object(d.a)(["\n    width: 100%;\n"]);return In=function(){return e},e}var Mn=b.b.table(In()),Cn=b.b.th(kn()),Tn=b.b.td(_n()),Nn=b.b.tr(zn(),function(e){return e.currentScore?"yellow":"transparent"}),Bn=(b.b.button(An()),function(e){var n=e.scores,t=e.savedScore;e.setInputActive;return a.a.createElement(Mn,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement(Cn,null,"Player"),a.a.createElement(Cn,null,"Score"),a.a.createElement(Cn,null,"Level"))),a.a.createElement("tbody",null,n.map(function(e){var n=e._id,r=e.playerName,c=e.score,i=e.level,u=t&&t._id===n,o=r||"-";return a.a.createElement(Nn,{key:n,currentScore:u},a.a.createElement(Tn,null,o),a.a.createElement(Tn,null,c),a.a.createElement(Tn,null,i))})))});function Ln(){var e=Object(d.a)(["\n    padding: 10px 20px;\n    border: 0;\n    background: lightblue;\n    font-size: 18px;\n    outline: none;\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(d.a)(["\n    background: white;\n    padding: 20px;\n    border-radius: 6px;\n    text-align: center;\n    font-size: 18px;\n\n    animation: "," 0.25s ease-in-out forwards;\n"]);return Rn=function(){return e},e}function Pn(){var e=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: 20px;\n    background: rgba(0, 0, 0, 0.5);\n\n    animation: "," 0.25s ease-in-out forwards;\n"]);return Pn=function(){return e},e}function Un(){var e=Object(d.a)(["\n    0% { transform: scale(0.8); }\n    100% { transform: scale(1); }\n"]);return Un=function(){return e},e}function Gn(){var e=Object(d.a)(["\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n"]);return Gn=function(){return e},e}var Vn=jn()(xn()("_id")),Fn=Object(b.c)(Gn()),Wn=Object(b.c)(Un()),Kn=b.b.div(Pn(),Fn),Xn=b.b.div(Rn(),Wn),Yn=b.b.button(Ln()),Jn="https://dicematch-server.herokuapp.com",Hn=function(e){var n=e.name,t=e.score,c=e.level,i=c.level,u=c.clearedDice,o=c.upcomingDice,s=e.moves.used,l=e.tracking,f=l.gameStart,d=l.gameEnd,v=(e.restartGame,e.savedScore),b=e.setSavedScore,m=e.setInputActive,p=Object(r.useState)(null),O=Object(pn.a)(p,2),E=O[0],h=O[1];return Object(r.useEffect)(function(){(function(){var e=Object(mn.a)(bn.a.mark(function e(){var r,a,c,l,m,p;return bn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=14;break}return e.prev=1,e.next=4,Sn.a.post("".concat(Jn,"/scores"),{playerName:n,score:t,level:i,diceCleared:u,diceRemainingInLevel:o.length,turnsUsed:s,startTime:f&&f.toString(),endTime:d&&d.toString()},{timeout:1e4});case 4:a=e.sent,r=a.data.score,b(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("error saving score",e.t0);case 12:e.next=25;break;case 14:return e.prev=14,e.next=17,Sn.a.put("".concat(Jn,"/scores/").concat(v._id),{playerName:n},{timeout:1e4});case 17:c=e.sent,r=c.data.score,b(r),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),console.error("error saving score",e.t1);case 25:return e.prev=25,e.next=28,Sn.a.get("".concat(Jn,"/scores"),{timeout:1e4,params:{limit:10}});case 28:l=e.sent,m=l.data.scores,p=Vn([].concat(Object(j.a)(m),[r])).filter(function(e){return!!e}).sort(function(e,n){return n.score-e.score}),console.log(p),h(p),e.next=38;break;case 35:e.prev=35,e.t2=e.catch(25),console.error("error loading scores",e.t2);case 38:case"end":return e.stop()}},e,null,[[1,9],[14,22],[25,35]])}));return function(){return e.apply(this,arguments)}})()()},[]),E?a.a.createElement(Bn,{scores:E,savedScore:v,setInputActive:m}):a.a.createElement("div",null,"Loading...")},qn=function(e){var n=e.restartGame,t=Object(E.a)(e,["restartGame"]),c=En()("dicematch.name",wn()),i=Object(pn.a)(c,2),u=i[0],o=i[1],s=Object(r.useState)(null),l=Object(pn.a)(s,2),f=l[0],d=l[1];return a.a.createElement(Kn,null,a.a.createElement(Xn,null,a.a.createElement("h1",null,"Game over"),a.a.createElement(Hn,Object.assign({},t,{name:u,savedScore:f,setSavedScore:d,setName:o})),a.a.createElement("p",null,a.a.createElement(Yn,{onClick:n},"Restart"))))},Qn=t(158),Zn=t.n(Qn);function $n(){var e=Object(d.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    font-size: 48px;\n    pointer-events: none;\n    touch-action: none;\n    color: white;\n\n    text-shadow: 0 0 5px rgba(0,0,0,1);\n"]);return $n=function(){return e},e}var et=b.b.div($n()),nt={position:"absolute",top:"50%",left:"50%",textAlign:"center",width:150,height:50,marginLeft:-75,marginTop:-25,transition:"opacity ".concat(200,"ms ease-out, transform ").concat(200,"ms ease-out"),opacity:0,transform:"scale(0.5)"},tt={entering:{opacity:0,transform:"scale(0.5)"},entered:{opacity:1,transform:"scale(1)"},exiting:{opacity:0,transform:"scale(2.5)"}},rt=function(e){var n=e.children,t=Object(E.a)(e,["children"]);return a.a.createElement(h.Transition,Object.assign({},t,{timeout:200}),function(e){return a.a.createElement("div",{style:Object(O.a)({},nt,tt[e])},n)})},at=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).state={announcements:[]},t.aId=0,t}return Object(f.a)(n,e),Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=this,t=e.score;e.gameState;if(this.props.score!==t&&this.props.gameState!==S){var r=t-this.props.score;this.setState(function(e){return{announcements:[].concat(Object(j.a)(e.announcements),[{id:n.aId,value:r}])}}),this.aId=this.aId+1,setTimeout(function(){n.setState(function(e){return{announcements:Zn()(1,e.announcements)}})},1e3)}}},{key:"render",value:function(){var e=this.state.announcements;return a.a.createElement(et,null,a.a.createElement(h.TransitionGroup,null,e.map(function(e,n){return a.a.createElement(rt,{key:e.id},"+ ",e.value)})))}}]),n}(a.a.Component);function ct(){var e=Object(d.a)(["\n    position: relative;\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n\n    align-items: center;\n\n    padding: 10px 0;\n\n    height: 100%;\n"]);return ct=function(){return e},e}function it(){var e=Object(d.a)(["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 10px;\n    background: white;\n    height: 100%;\n    width: 100%;\n"]);return it=function(){return e},e}function ut(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: stretch;\n    align-content: stretch;\n    height: 100%;\n    width: 100%;\n"]);return ut=function(){return e},e}var ot=p()(30,80),st=b.b.div(ut()),lt=b.b.div(it()),ft=b.b.div(ct()),dt=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).state={diceSize:0},t.getDiceSize=function(){return t.setState(function(){return{diceSize:ot((window.innerWidth-20)/D)}})},t}return Object(f.a)(n,e),Object(o.a)(n,[{key:"componentWillMount",value:function(){this.getDiceSize(),window.addEventListener("resize",this.getDiceSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getDiceSize)}},{key:"render",value:function(){return a.a.createElement(st,null,a.a.createElement(lt,null,a.a.createElement("div",null,a.a.createElement(dn,this.props.level),a.a.createElement(tn,this.props)),a.a.createElement(Ke,this.props)),a.a.createElement(ft,null,a.a.createElement(Ve,Object.assign({},this.props,{diceSize:this.state.diceSize})),a.a.createElement(at,this.props)),this.props.gameState===S&&a.a.createElement(qn,this.props))}}]),n}(r.Component),vt=Object(v.a)(function(e){return e},function(e){return{updateDie:function(n){return e({type:g.UPDATE_DIE,id:n})},restartGame:function(){return e({type:g.GAME_RESET})}}})(dt),bt=t(29),mt=t(159),pt=t(167),Ot=t(19),Et=t.n(Ot),ht=function(e,n){return function(t){return t<e?n:t>n?e:t}},jt=function(e){return Math.floor(Math.random()*e)+1},gt=function(e){return function(n,t){return n.id===t.id?e(n,t):n}},xt=gt(function(e,n){var t=e.value,r=Object(E.a)(e,["value"]);return Object(O.a)({},r,{value:ht(1,r.dieSize)(t+1)})}),yt=gt(function(e,n){var t=e.value,r=Object(E.a)(e,["value"]);return Object(O.a)({},r,{value:ht(1,r.dieSize)(t-1)})}),St=gt(function(e,n){for(var t=e.value,r=Object(E.a)(e,["value"]),a=jt(r.dieSize);a===t;)a=jt(r.dieSize);return Object(O.a)({},r,{value:a})}),Dt=function(e){switch(e){case 1:return 6;case 2:return 5;case 3:return 4;case 4:return 3;case 5:return 2;case 6:default:return 1}},wt=gt(function(e,n){var t=e.value,r=Object(E.a)(e,["value"]);return Object(O.a)({},r,{value:Dt(t)})}),At=function(e,n){switch(e.dieType){case x.UP:return xt(e,n);case x.DOWN:return yt(e,n);case x.RANDOM:return St(e,n);case x.FLIP:return wt(e,n);case x.BOMB:return function(e,n){var t=e.value,r=Object(E.a)(e,["value"]);return Object(O.a)({},r,{value:t-1})}(e);default:return e}},zt=gt(function(e,n){var t=n.x,r=n.y;return Object(O.a)({},e,{x:t,y:r})}),_t=t(160),kt=t.n(_t),It=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;switch(e){case x.BOMB:return n;default:return jt(n)}},Mt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return{id:kt()(),dieType:e,dieSize:n,value:It(e,n)}},Ct=function(e){return function(n,t){return e.find(function(e){return e&&e.x===n&&e.y===t})}},Tt=t(161),Nt=t.n(Tt),Bt=t(162),Lt=t.n(Bt),Rt=function(e,n){return e&&n&&e.value===n.value},Pt=function(e){return e.id},Ut=Nt()(Pt),Gt=jn()(Pt),Vt=function(e){var n=function(e){for(var n=Ct(e),t=[],r=0;r<w;r++)for(var a=[],c=0;c<D;c++){var i=n(c,r),u=n(c+1,r);a.push(i);var o=Rt(i,u);!o&&a.length>=3&&t.push(a),o||(a=[])}return t}(e),t=function(e){for(var n=Ct(e),t=[],r=0;r<D;r++)for(var a=[],c=0;c<w;c++){var i=n(r,c),u=n(r,c+1);a.push(i);var o=Rt(i,u);!o&&a.length>=3&&t.push(Lt()(a)),o||(a=[])}return t}(e);return n=n.map(function(e){var n=t.find(function(n){return Ut([n,e])});return n?(t=t.filter(function(e){return e!==n}),Gt([].concat(Object(j.a)(e),Object(j.a)(n)))):e}),[].concat(Object(j.a)(n),Object(j.a)(t))},Ft=function(){for(var e;!e||Vt(e).length;)e=Et()(function(){return Mt(x.UP)},D*w).map(function(e,n){var t=n%D,r=Math.floor(n/D);return Object(O.a)({},e,{x:t,y:r})});return e},Wt=function(e,n){return e.map(function(e){return function(e,n){switch(n.type){case g.UPDATE_DIE:return At(e,n);case g.MOVE_DIE:return zt(e,n);default:return e}}(e,n)})},Kt=function(e){var n=Ct(e);return e.find(function(e){var t=e.x,r=e.y;e.id;return r<w-1&&!n(t,r+1)})},Xt={used:0,limit:10},Yt=t(163),Jt=t.n(Yt),Ht=p()(0,1/0),qt=function(e){return Math.floor(e)},Qt=function(e){return Math.round(e)},Zt=function(e){return Math.log10(e)},$t=function(e){return 10+qt(.25*e)},er=function(e){return Ht(Qt(7*Zt(e)))},nr=function(e){return Ht(Qt(4*Zt(e))-2)},tr=function(e){return qt(Ht(Qt(4*Zt(e))-2.5))},rr=function(e){return Ht(Qt(2.5*Zt(e))-2)},ar=function(e){return e>=15&&e%3===0?1:0},cr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0;n<e.length;n++){var t=e[n].value;if(e[n+1]&&e[n+1].value===t&&e[n+2]&&e[n+2].value===t)return console.log("found run",e,n,n+1,n+2),!0}return!1},ir=function(e){var n;console.log("NEXT LEVEL",e,"UP",$t(e),"DOWN",er(e),"FLIP",nr(e),"RANDOM",tr(e),"BLOCKER",rr(e),"BOMB",ar(e),"total",$t(e)+er(e)+tr(e)+rr(e)+nr(e)+ar(e));var t=0;do{n=Jt()([].concat(Object(j.a)(Et()(function(){return Mt(x.UP)},$t(e))),Object(j.a)(Et()(function(){return Mt(x.DOWN)},er(e))),Object(j.a)(Et()(function(){return Mt(x.RANDOM)},tr(e))),Object(j.a)(Et()(function(){return Mt(x.BLOCKER)},rr(e))),Object(j.a)(Et()(function(){return Mt(x.FLIP)},nr(e))),Object(j.a)(Et()(function(){return Mt(x.BOMB)},ar(e))))),t++}while(t<5&&cr(n));return n},ur=function(){return{level:1,clearedDice:0,upcomingDice:ir(1)}},or=y,sr={gameStart:new Date,gameEnd:null},lr=Object(bt.c)({gameBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.UPDATE_DIE:return Wt(e,n);case g.REMOVE_DIE:return function(e,n){return e.filter(function(e){return e.id!==n.id})}(e,n);case g.ADD_DIE:return function(e,n){var t=n.die;return[].concat(Object(j.a)(e),[t])}(e,n);case g.CASCADE_DICE:return function(e,n){for(var t=e,r=Kt(t);r;)t=Wt(t,{type:g.MOVE_DIE,id:r.id,x:r.x,y:r.y+1}),r=Kt(t);return t}(e);case g.GAME_RESET:return Ft();default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.ADD_SCORE:return e+n.score*n.multiplier;case g.GAME_RESET:return 0;default:return e}},inputEnabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case g.INPUT_DISABLE:return!1;case g.INPUT_ENABLE:case g.GAME_RESET:return!0;default:return e}},moves:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.UPDATE_DIE:return Object(O.a)({},e,{used:e.used+1});case g.ADD_MOVES:return Object(O.a)({},e,{limit:e.limit+n.moves});case g.GAME_RESET:return Xt;default:return e}},level:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.ADD_DIE:return function(e,n){var t=e.level,r=e.upcomingDice.slice(1);return 0===r.length&&(r=ir(t+=1)),Object(O.a)({},e,{level:t,upcomingDice:r})}(e);case g.REMOVE_DIE:return Object(O.a)({},e,{clearedDice:e.clearedDice+1});case g.SET_LEVEL:return Object(O.a)({},e,{level:n.level,upcomingDice:ir(n.level)});case g.GAME_RESET:return ur();default:return e}},gameState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;switch((arguments.length>1?arguments[1]:void 0).type){case g.GAME_END:return S;case g.GAME_RESET:return or;default:return e}},tracking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr;switch((arguments.length>1?arguments[1]:void 0).type){case g.GAME_END:return Object(O.a)({},e,{gameEnd:new Date});case g.GAME_RESET:return{gameStart:new Date,gameEnd:null};default:return e}}}),fr=t(8),dr=t(164),vr=t.n(dr),br=t(165),mr=t.n(br),pr=bn.a.mark(Dr),Or=bn.a.mark(wr),Er=bn.a.mark(Ar),hr=bn.a.mark(kr),jr=bn.a.mark(Ir),gr=function(e){return new Promise(function(n){return setTimeout(n,e)})},xr=function(e){return e.id},yr=function(e){switch(e){case 3:return 0;case 4:return 100;case 5:return 300;case 6:return 500;default:return Math.max(300*(e-6),0)+500}},Sr=function(e,n){return n*(e<=3?10:20)};function Dr(e){var n,t,r,a;return bn.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(fr.c)();case 2:return n=c.sent,t=n.level.upcomingDice[0],r=e.x,a=-w,c.next=8,Object(fr.b)({type:g.ADD_DIE,die:Object(O.a)({},t,{x:r,y:a})});case 8:return c.next=10,gr(100);case 10:return c.next=12,Object(fr.b)({type:g.CASCADE_DICE});case 12:case"end":return c.stop()}},pr)}function wr(e,n){var t,r,a,c,i,u,o,s,l,f;return bn.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(fr.c)();case 2:return t=d.sent,r=t.gameBoard.map(xr),a=e.filter(function(e){return mr()(xr(e),r)}),d.next=7,Object(fr.a)(a.map(function(e){return Object(fr.b)({type:g.REMOVE_DIE,id:e.id})}));case 7:return d.next=9,gr(250);case 9:return d.next=11,Object(fr.b)({type:g.CASCADE_DICE});case 11:return c=yr(a.length)+Sr(a.length,vr()(a).value),d.next=14,Object(fr.b)({type:g.ADD_SCORE,score:c,multiplier:n});case 14:return d.next=16,gr(250);case 16:i=!0,u=!1,o=void 0,d.prev=19,s=a[Symbol.iterator]();case 21:if(i=(l=s.next()).done){d.next=28;break}return f=l.value,d.next=25,Dr(f);case 25:i=!0,d.next=21;break;case 28:d.next=34;break;case 30:d.prev=30,d.t0=d.catch(19),u=!0,o=d.t0;case 34:d.prev=34,d.prev=35,i||null==s.return||s.return();case 37:if(d.prev=37,!u){d.next=40;break}throw o;case 40:return d.finish(37);case 41:return d.finish(34);case 42:return d.next=44,gr(100);case 44:case"end":return d.stop()}},Or,null,[[19,30,34,42],[35,,37,41]])}function Ar(e){var n,t,r,a,c,i,u,o,s,l,f=arguments;return bn.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:1,d.next=3,gr(100);case 3:if(e.length){d.next=5;break}return d.abrupt("return");case 5:return d.next=7,Object(fr.c)();case 7:t=d.sent,r=!0,a=!1,c=void 0,d.prev=11,i=e[Symbol.iterator]();case 13:if(r=(u=i.next()).done){d.next=22;break}return o=u.value,d.next=17,wr(o,n);case 17:return d.next=19,gr(250);case 19:r=!0,d.next=13;break;case 22:d.next=28;break;case 24:d.prev=24,d.t0=d.catch(11),a=!0,c=d.t0;case 28:d.prev=28,d.prev=29,r||null==i.return||i.return();case 31:if(d.prev=31,!a){d.next=34;break}throw c;case 34:return d.finish(31);case 35:return d.finish(28);case 36:return d.next=38,Object(fr.c)();case 38:if(s=d.sent,l=Vt(s.gameBoard),t.level.level===s.level.level){d.next=43;break}return d.next=43,Object(fr.b)({type:g.ADD_MOVES,moves:10});case 43:return d.next=45,gr(300);case 45:if(!l.length){d.next=49;break}return d.next=48,Ar(l,n+1);case 48:return d.abrupt("return",d.sent);case 49:case"end":return d.stop()}},Er,null,[[11,24,28,36],[29,,31,35]])}var zr=[[0,0],[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],_r=function(e){var n=Ct(e);return e.filter(function(e){return e.dieType===x.BOMB&&e.value<=0}).map(function(e){return zr.map(function(t){var r=Object(pn.a)(t,2),a=r[0],c=r[1];return n(e.x+a,e.y+c)}).filter(function(e){return!!e})})};function kr(){var e,n,t,r,a;return bn.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(fr.b)({type:g.INPUT_DISABLE});case 2:return c.next=4,Object(fr.c)();case 4:if(e=c.sent,!(n=Vt(e.gameBoard)).length){c.next=11;break}return c.next=9,gr(250);case 9:return c.next=11,Ar(n,1);case 11:return c.next=13,Object(fr.c)();case 13:if(t=c.sent,!(r=_r(t.gameBoard)).length){c.next=20;break}return c.next=18,gr(250);case 18:return c.next=20,Ar(r,1);case 20:return c.next=22,Object(fr.b)({type:g.INPUT_ENABLE});case 22:return c.next=24,Object(fr.c)();case 24:if(!((a=c.sent).moves.limit-a.moves.used<=0)){c.next=31;break}return c.next=28,gr(800);case 28:return c.next=30,Object(fr.b)({type:g.GAME_END});case 30:return c.abrupt("return",c.sent);case 31:case"end":return c.stop()}},hr)}function Ir(){return bn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fr.d)(g.UPDATE_DIE,kr);case 2:case"end":return e.stop()}},jr)}var Mr=Ir,Cr=function(e){var n=Object(pt.a)(),t=[Object(mt.createLogger)({collapsed:!0,duration:!0}),n],r=Object(bt.d)(lr,e,bt.a.apply(null,t));return n.run(Mr),window._store=r,r}();i.a.render(a.a.createElement(vt,{store:Cr}),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.61939e72.chunk.js.map